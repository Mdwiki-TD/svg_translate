[uwsgi]
enable-threads = true

; ensure DB connections are created after fork (avoid shared pre-fork state)
lazy-apps = true

; reduce thundering herd on accept() and improve socket performance
thunder-lock = true

; worker model
processes = 4
threads = 2

; cleanup uWSGI socket/file descriptors on shutdown
vacuum = true

; kill requests that hang longer than this many seconds
harakiri = 60

; secure permissions for the uWSGI socket
chmod-socket = 660

; ignore SIGPIPE when clients disconnect early
ignore-sigpipe = true
